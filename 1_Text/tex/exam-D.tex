% lualatexでコンパイル
% 大試、院試の解答作成

\documentclass[11pt]{article}

\usepackage{makecell} %tabularの横線の太さ調整のため
\usepackage[table]{xcolor} %表に色をつけるため
\usepackage[most]{tcolorbox}
\usepackage{luatexja}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage[margin=3cm]{geometry}


\setlength{\parindent}{0pt}
\linespread{1.2} %行間を調整

%tcolorboxのスタイルを設定
\tcbset{
  mybox/.style={
    %colback=yellow!5,
    %colframe=orange!80!black,
    fonttitle=\bfseries,
    title=#1
  }
}

\begin{document}
\begin{center}
{\LARGE \textbf{京都大学 2024 前期理系}}
\end{center}
\vspace{2mm}

\section*{各問題の内容と感想}

\renewcommand{\arraystretch}{1.3} %表の行間調整
\begin{tabular}{!{\vrule width 1pt}c!{\vrule width 1pt}c!{\vrule width 1pt}c!{\vrule width 1pt}c!{\vrule width 1pt}}
\Xhline{1pt}
\rowcolor{gray!20} 問題番号 & 内容 & 感想 & なかけん難易度\\
\Xhline{1pt} % 太さ 倍の横線
1 & ?? & ?? & \\
\Xhline{1pt}
2 & 不定方程式 & 変形だけでなく、最小値を求める意識も必要だった。 & ★★★☆☆\\
\Xhline{1pt}
3 & ?? & ?? & \\
\Xhline{1pt}
4 & ?? & ?? & \\
\Xhline{1pt}
5 & ?? & ?? & \\
\Xhline{1pt}
\end{tabular}

\vspace{1cm}


\vfill
\hrule
\vspace{1mm}
{\footnotesize ここは、脚注の文}

\newpage

\section{剰余環における冪}

\begin{minipage}[t]{0.27\textwidth}
$\mathbb{Z}_3$の表\\
\begin{tabular}{|c|c|c|c|}
\hline
$x$ & 0 & 1 & 2\\
\hline
$x^2$ & 0 & 1 & 1\\
\hline
\end{tabular}
\end{minipage}
\hfill
\begin{minipage}[t]{0.27\textwidth}
$\mathbb{Z}_5$の表\\
\begin{tabular}{|c|c|c|c|c|c|}
\hline
$x$ & 0 & 1 & 2 & 3 & 4\\
\hline
$x^2$ & 0 & 1 & 4 & 4 & 1\\
\hline
$x^3$ & 0 & 1 & 3 & 2 & 4\\
\hline
$x^4$ & 0 & 1 & 1 & 1 & 1\\
\hline
\end{tabular}
\end{minipage}
\hfill
\begin{minipage}[t]{0.27\textwidth}
$\mathbb{Z}_7$の表\\
\begin{tabular}{|c|c|c|c|c|c|c|c|}
\hline
$x$    & 0 & 1 & 2 & 3 & 4 & 5 & 6\\
\hline
$x^2$ & 0 & 1 & 4 & 2 & 2 & 4 & 1\\
\hline
$x^3$ & 0 & 1 & 1 & 6 & 1 & 6 & 6\\
\hline
$x^4$ & 0 & 1 & 2 & 4 & 4 & 2 & 1\\
\hline
$x^5$ & 0 & 1 & 4 & 5 & 2 & 3 & 6\\
\hline
$x^6$ & 0 & 1 & 1 & 1 & 1 & 1 & 1\\
\hline
\end{tabular}
\end{minipage}

\vspace{5mm}

\begin{minipage}[t]{0.27\textwidth}
$\mathbb{Z}_4$の表\\
\begin{tabular}{|c|c|c|c|c|}
\hline
$x$ & 0 & 1 & 2 & 3\\
\hline
$x^2$ & 0 & 1 & 0 & 1\\
\hline
$x^3$ & 0 & 1 & 0 & 3\\
\hline
$x^4$ & 0 & 1 & 0 & 1\\
\hline
\end{tabular}
\end{minipage}
\hfill
\begin{minipage}[t]{0.27\textwidth}
$\mathbb{Z}_6$の表\\
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
$x$ & 0 & 1 & 2 & 3 & 4 & 5\\
\hline
$x^2$ & 0 & 1 & 4 & 3 & 4 & 1\\
\hline
$x^3$ & 0 & 1 & 2 & 3 & 4 & 5\\
\hline
$x^4$ & 0 & 1 & 4 & 3 & 4 & 1\\
\hline
$x^5$ & 0 & 1 & 2 & 3 & 4 & 5\\
\hline
\end{tabular}
\end{minipage}

\newpage

\begin{tcolorbox}[mybox={問２}]
正整数$x,y,z$に対して、$N=9z^2 = x^6 + y^4$と定める。\\
$N$の最小値を求めよう。
\end{tcolorbox}

\underline{\textbf{考え方・疑問点}}\\
$\bullet$ 剰余を使って、条件を絞り込むしかなさそう。\\
$\bullet$ 全ての整数解を求めることは難しそう。Siegelの定理(整数解)やMordellの定理(有理点)から、整数解は有限個しかないとわかるのか？\\
$\bullet$ 途中で出てくる式$X^2 = 9Y^2 + Z^2$は、Pell方程式などを使って解けるか？二次不定方程式の一般論が気になるところ\\

\underline{\textbf{解き方}}\\
(1)\ $9z^2 = x^6 + y^4$を$\mathbb{Z}_3$で考えると
\begin{equation*}
0= \overline{x}^2 + \overline{y}^2 \hspace{1cm} \mathrm{in} \ \ \mathbb{Z}_3
\end{equation*}
となるけど、$\overline{x} = 0\ \mathrm{or} \ 1$なので、$\overline{x}=\overline{y}=0$がわかる。\\
そこで、$x=3x_1 , y=3y_1$とおいて、元の式に代入すると\\
\begin{align*}
9z^2 &= {(3x_1)}^6 + {(3y_1)}^4\\
z^2 &= 3^4 {x_1}^6 + 3^2 {y_1}^4
\end{align*}
右辺は、3で割り切れるので、zも3で割り切れる。そこで、$z=3z_1$とおく。
\begin{align}
{(3z_1)}^2 &= 3^4 {x_1}^6 + 3^2 {y_1}^4 \nonumber \\
{z_1}^2 &= 9 {x_1}^6 + {y_1}^4 \label{2-eq}
\end{align}
変数の関係は$(x,y,z)=3(x_1 , y_1 , z_1)$となる。${z_1}^2 \geq 9+1 =10$で、$z_1 \geq 4$となる。\\
$z_1$が最小となれば、$N={(3z_1)}^2$も最小となる。\\
$z_1 = 4$としてみると、式(\ref{2-eq})は
\begin{equation*}
16 = 9 {x_1}^6 + {y_1}^4
\end{equation*}
となるが、$x_1=1$となるしかなくて、${y_1}^4 =7$となるが、これは矛盾。\\
次に、$z_1 = 5$とすると
\begin{equation*}
25 = 9 {x_1}^6 + {y_1}^4
\end{equation*}
$x_1=1$となるしかなくて、${y_1}^4 = 16$となり、$y_1=2$となる。\\
したがって、$N$が最小になるのは、$(x,y,z)=3(1,2,5)=(3,6,15)$のときで
\begin{equation*}
N=9z^2=9 \cdot 15^2 = 45^2 =2025
\end{equation*}

\newpage
\begin{center}
{\LARGE \textbf{未分類、どこかで発見した問題}}
\end{center}

\begin{tcolorbox}[mybox={駿台の整数完全攻略の見本画像より}]
10進法の数 $\dfrac{12}{13}$ を3進数で表したとき、小数第100位の数を求めたい
\end{tcolorbox}

\underline{\textbf{解き方}}\\
3進数で表すと、$\dfrac{12}{13} = ( 0. \dot{2} \dot{2} \dot{0} 220220 \cdots )_{(3)}$となるため、小数は周期的に変化する。\\
小数第$3k$位 ($k=1,2,3,\cdots$)は0となっているので、小数点第99位の数は0。そして、小数点第100位は、2となる。\\

\begin{tcolorbox}[mybox={東大実践模試？の動画}]
(1)\ $n$が偶数であって、$n!$は$n^2$の倍数となるものを求めると、$n \geq 6$。\\
(1)'\ $n$が奇数ならば、$n!$は$(n-1)^2$の倍数となる。\\
(2)\ $(n+1)^k = n!+1$を満たす$(n,k)$の組をすべて求めたい。
\end{tcolorbox}

\underline{\textbf{解き方}}\\
(2)\ $n! < n!+1 < (n+1)!$であるから、仮定の方程式より$n! < (n+1)^k < (n+1)!$となる。\\
ここで、$n$と$k$の大小で場合分けして考える。\\
$k \geq n$だと、$(n+1)^k > (n+1)!$となり矛盾してしまう。よって、$k < n$は分かる。\\
$n! = (n+1)^k -1 \equiv nk  \mod n^2 $ だけども、$n$が6以上だと$n! \equiv 0 \mod n^2$ であるから、$n<6$ でないといけない。

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|}
\hline
$n$ & 1 & 2 & 3 & 4 & 5\\
\hline
$n!+1$ & 2 & 3 & 7 & 25 $=5^2$ & 121\\
\hline
$k$& 1& 1 & $-$ & 2 & $-$\\
\hline
\end{tabular}
\end{center}

$(n,k) = (1,1) , (2,1) , (4,2)$が答えになる。\\

\begin{tcolorbox}[mybox={東大過去問？の動画の改良}]
(1)\ 自然数$a,b,c$で、任意の2つの和は残りの一つで割り切れるものをすべて求めたい。
(2)\ 自然数$a_1 , \cdots , a_n$で、任意の$n-1$個の和が、残りの一つで割り切れるものを全て求めたい。
\end{tcolorbox}

\underline{\textbf{解き方}}\\

\end{document}