# 階乗を含む不定方程式って、不等号による絞り込みがすごい鍵になりそう！

まさにその通りです！
**階乗を含む不定方程式**では、\*\*不等号による絞り込み（上界・下界の推定）\*\*が超強力な武器になります。
これは、**整数問題全般にも通じる、非常に洗練されたテクニック**のひとつです。

---

## ✅ なぜ不等号が効くのか？── 階乗の「急激な増加性」

### ✅ 例：指数関数よりも急速に増加！

* $n!$ は $n^n$ よりは遅いけど、**多項式や線形よりずっと速い**
* $n! > 2^n$ は $n \geq 4$ で成立

つまり、

> 「階乗が含まれていると、n が少し増えただけで値が一気に増える」
> という性質があります。

これは、**“大きくなりすぎる”から、n に強い制限がかかる**ということ。

---

## 🧠 不定方程式 × 階乗 × 不等式：典型パターン

### 例題 1：

> Find all integers $n$ such that $n! = 2^n$

### 解き方（不等号で絞る）：

* $n = 1$: $1! = 1$, $2^1 = 2$ → ❌
* $n = 2$: $2! = 2$, $2^2 = 4$ → ❌
* $n = 3$: $6$ vs $8$ → ❌
* $n = 4$: $24$ vs $16$ → ✅
* $n = 5$: $120$ vs $32$ → ❌

→ このあと、$n! > 2^n$ がどんどん開くので、**n = 4 が唯一の解**。

### ✅ ポイント：

* 「階乗は指数より大きくなる」 → 不等式で**解の個数を有限個に絞る**
* 絞ったあとは**総当たりでOK**！

---

### 例題 2：

> $n! + 1 = m^2$ を満たす整数 $(n, m)$ をすべて求めよ。

これは有名問題で、**Brocardの問題**とも関連。

#### アプローチ：

1. 両辺の大きさを不等式で比較
2. $n! + 1$ が平方になるのは極めて珍しい
3. 実際に：

   * $n = 4$: $4! + 1 = 25 = 5^2$ → ✅
   * $n = 5$: $120 + 1 = 121 = 11^2$ → ✅
   * $n = 7$: $5040 + 1 = 5041 = 71^2$ → ✅
   * それ以外は怪しい…

→ これも「階乗が急激に伸びるから、平方との一致はすぐズレる」という**不等式ベースの感覚**が絞り込みに貢献します。

---

## 🔑 他にも使える技術（不等式との組み合わせ）

| 技法              | 概要                                         |
| --------------- | ------------------------------------------ |
| **対数をとる**       | 比較： $n!$ vs $a^n$ のとき、両辺に $\log$ で傾向比較     |
| **Stirling近似**  | $n! \approx \sqrt{2\pi n}(n/e)^n$ で上限・下限評価 |
| **単調性の利用**      | $n!$ は単調増加 ⇒「右辺を超えたらもうダメ」                  |
| **mod（合同式）を併用** | 「階乗は多くの素因数を含む」→ mod による制約付け                |

---

## 🎯 まとめ：階乗不定方程式では不等式が「現実的な武器」

* **“無限の候補”を有限に落とす第一歩が不等式**
* 階乗は「早く大きくなる」から、**不等式で即打ち止めにできる**
* 他のテクニックと組み合わせて、**理詰めの制約をどんどん積み重ねていく**

---

## 💬 最後に

> ❝「値を厳密に求める」より前に、「値が現実的に存在しうるか」を推定する❞

これは、数学での\*\*“効率的な思考の基本”\*\*でもあり、あなたの気づきはまさにその核心を突いています。

---

必要であれば、こうした階乗不定方程式の演習問題や、不等号での制限のかけ方を一緒に練習することもできますよ。やってみますか？

---
---

よし、やってみましょう！
ここでは、「**階乗を含む不定方程式の問題を、不等式などで絞り込みながら解く**」という流れで練習していきます。

---

## 🎯 目標：

* 階乗の性質（急増加性）を活かす
* 不等式・試し代入・mod などで **解の個数を絞る**
* 数学的センスと論理の訓練！

---

## 🔍 練習問題①：

> **Find all integers $n$ such that $n! = n^2$**

### ✍️ 解いてみよう！

まず、両辺の大きさを比較しつつ、いくつか代入してみよう。

---

#### 🔢 試し代入：

| n | n!  | n² | 等しい？ |
| - | --- | -- | ---- |
| 1 | 1   | 1  | ✅    |
| 2 | 2   | 4  | ❌    |
| 3 | 6   | 9  | ❌    |
| 4 | 24  | 16 | ❌    |
| 5 | 120 | 25 | ❌    |

→ もう明らかに **n! > n²**。
だから、**n = 1 が唯一の解**。

---

### ✅ 結論：

$$
\boxed{n = 1}
$$

---

## 🔍 練習問題②：

> **Find all positive integers $n$ such that $n! + 1 = n^2$**

これもまずは代入から！

---

#### 🔢 試し代入：

| n | n! + 1 | n² | 等しい？ |
| - | ------ | -- | ---- |
| 1 | 2      | 1  | ❌    |
| 2 | 3      | 4  | ❌    |
| 3 | 7      | 9  | ❌    |
| 4 | 25     | 16 | ❌    |
| 5 | 121    | 25 | ❌    |
| 6 | 721    | 36 | ❌    |

→ **すべて不一致！**

じゃあもう少し一般的に見ると？

* $n! + 1 = n^2$
  → $n! = n^2 - 1 = (n - 1)(n + 1)$

この形で、**(n - 1)(n + 1)** が n! と一致するかを考える。

#### 例えば：

* $n = 5$: $(4)(6) = 24$, $5! = 120$ → ダメ
* $n = 3$: $2×4 = 8$, $3! = 6$ → ダメ

→ これも一致しない。

---

### ✅ 結論：

$$
\boxed{\text{No solution}}
$$

---

## 🔍 練習問題③（ちょい発展）：

> **Solve $n! = 2^n$ for positive integers $n$.**

さっきも見たやつですね。試し代入＆不等式で！

---

#### 🔢 試し代入：

| n | n!  | 2^n | 等しい？ |
| - | --- | --- | ---- |
| 1 | 1   | 2   | ❌    |
| 2 | 2   | 4   | ❌    |
| 3 | 6   | 8   | ❌    |
| 4 | 24  | 16  | ❌    |
| 5 | 120 | 32  | ❌    |
| 6 | 720 | 64  | ❌    |

階乗が 2^n をすぐ超える → 不等式を確認：

### ✏️ 比較：$n! > 2^n$ は $n \geq 4$ で成り立つ。

したがって、もし一致する n があるとすれば、**小さい n にしかない**。

→ でも実際、n = 1〜6 で全部不一致 → 解なし。

---

### ✅ 結論：

$$
\boxed{\text{No solution}}
$$

---

## 📚 次のステップ：Brocard 型の問題

> **Find all integers $n$ such that $n! + 1 = m^2$**

これは有名問題。ここから先は、**ある程度まで代入で確認 → 不等式やmodで打ち止め**の戦略になります。

---

やってみますか？それともここまでの問題のどれかをじっくり解説したいですか？

---
---

# 未解決

いいですね！じゃあ次は本格的に：

---

## 🔥 練習問題④（Brocard型）

> **Find all positive integers $n$ such that**

$$
n! + 1 = m^2
$$

を満たす整数 $m$ が存在するような $n$ をすべて求めよ。

---

この問題はかなり有名で、「**Brocard's problem**」と呼ばれています。
実際に成り立つ解はごくわずかしか知られていません。

---

## 🧠 アプローチ

### Step 1. **小さい $n$ を試す（有効！）**

| $n$ | $n! + 1$ | 平方数か？ | $m$ |
| --- | -------- | ----- | --- |
| 1   | 2        | ❌     |     |
| 2   | 3        | ❌     |     |
| 3   | 7        | ❌     |     |
| 4   | 25       | ✅     | 5   |
| 5   | 121      | ✅     | 11  |
| 6   | 721      | ❌     |     |
| 7   | 5041     | ✅     | 71  |
| 8   | 40321    | ❌     |     |
| 9   | 362881   | ❌     |     |

→ 成立するのは：

$$
\boxed{n = 4,\ 5,\ 7}
$$

---

## Step 2. **なぜこれ以上に解がないのか？**

ここで「不等式による絞り込み」が登場！

---

### 🧠 ① 不等式で成長速度を比較

* 左辺：$n! + 1$
* 右辺：$m^2$

→ $m = \sqrt{n! + 1}$
でも、$n!$ はめちゃくちゃ早く大きくなるので、
「平方になるには**ちょうどいい値**じゃないと無理」。

---

### 🧠 ② さらに強い手法：mod を使って不可能性を示す（高校・大学向け）

例えば：

#### $n \geq 7$ のとき、$n! \equiv 0 \mod 7$

だから $n! + 1 \equiv 1 \mod 7$

→ でも平方数は 7で割ったとき、
$0, 1, 2, 4$ にしかならない。
つまり可能性はある。

#### じゃあ mod 5 は？

→ 調べていくと「1より大きい n で平方になるのは無理」という性質が多数。

→ **つまり、n がある程度大きいと平方にならない確率が高い。**

---

## 📐 研究的な話（発展）：

* **この方程式の整数解は、現時点では**：

  $$
  \boxed{n = 4, 5, 7}
  $$

  のみが知られています。
* $n! + 1 = m^2$ の解はこれ以上存在しないと**推測されているが、完全には証明されていない**（未解決問題！）。

---

## ✅ まとめ：この問題が学べること

| 観点  | 学べること                     |
| --- | ------------------------- |
| 試行  | 小さい値から代入するのは有力な戦略         |
| 不等式 | 階乗の爆発的増加で「打ち止め」できる        |
| mod | 合同式を使って「平方数でない」ことを示せる     |
| 探究  | 完全に証明されていない「数学の最前線」に触れられる |

---

### ✨ 終わりに一言

あなたの勘、「階乗には不等式が効く！」というのは、
こういう有名問題を解くときに**数学者も実際に使っているアプローチ**です。

---

もう少し難しい類題 or 解き方を深掘りしてみますか？
それとも自分でも1問考えてみたいですか？

---
---

# 出会いの場

とても本質的で良い問いですね。
このような「**階乗を含む不定方程式**」の話題は、数学の中でも **かなり深くて面白い分野**に属します。
実際には、「どこで・どういう人が・どんなきっかけで」こういうテーマに出会うのか、いくつかのルートがあります。

---

## 🔍 どこでこういう話題に出会うのか？

---

### ✅ 1. **数学オリンピックや入試問題などのコンテスト数学**

* 高校数学で「整数問題・論理問題・数列」などを深掘りする中で登場します。
* 例えば：

  * 日本数学オリンピック
  * IMO（国際数学オリンピック）
  * 灘・開成・筑駒などの中高の入試（発展問題）

#### こういう問題が出やすいジャンル：

* 「n! + 1 が平方数になるか？」
* 「n! = a^k + b^k の形になるか？」（Diophantine型）

👉 **才能育成系の問題集や過去問**に多く載ってます。

---

### ✅ 2. **数論（整数論）の授業や書籍**

大学の「初等整数論」「ディオファントス方程式」「解析的整数論」などで登場。

#### 扱われるテーマ：

* 階乗の整除性（Legendreの定理、Wilsonの定理など）
* p進指数（n! の中に含まれる素因数の数）
* 階乗を含む方程式の解法

📚 代表的な書籍：

* 『An Introduction to the Theory of Numbers』 – Hardy & Wright
* 『Elementary Number Theory』 – David Burton
* 『数論入門』（日本語版多数あり）

---

### ✅ 3. **オープンな数学フォーラム・ネットコミュニティ**

興味ある人が自然と集まりやすいのはここ。

* StackExchange (Math.SE)
* AoPS (Art of Problem Solving)
* Quora, Reddit の math タグ

👉 「n! + 1 = m² に解はあるか？」みたいな素朴だけど深い疑問は、こういった場でよく議論されています。

---

### ✅ 4. **大学の数学研究（未解決問題）として登場**

先ほどの Brocardの問題のように、**「解が3つしか知られていないけど、他にないと信じられている」**というタイプの問題は、実は**まだ完全に解かれていない！**

### 例：

* Brocardの問題（n! + 1 = m²）
* Erdősの未解決問題（階乗と平方数の関係）
* Catalanの予想（→ 2002年に解決）

👉 研究者が論文で扱うようなテーマにもなります。

---

### ✅ 5. **良質な問題集・解説本**

#### おすすめルート：

| 種類      | 書名・媒体                                         | 内容                 |
| ------- | --------------------------------------------- | ------------------ |
| オリンピック系 | 『The Art and Craft of Problem Solving』(Zeitz) | 試行錯誤・整数・階乗の不定方程式など |
| 整数論の本   | 『Elementary Number Theory』(Burton)            | 初等的な階乗方程式からp進まで    |
| 和書      | 『天才の足跡 数学オリンピックの世界』など                         | 実際に出題された問題の背景と考察   |
| ネット記事   | StackExchange や AoPS の階乗・不定方程式タグ              | 世界中の数学好きによる議論の宝庫   |

---

## 💡 では、どうすれば自然に出会えるようになるか？

ここが実はポイントです：

### 🔑 興味が「構造・パターン・一般化」に向き始めたとき、自然とこういう問題に出会う

たとえば：

* 「n! + 1 が平方数になることってある？」
* 「n! = 2^n のような方程式って解ある？」
* 「階乗って急に大きくなるけど、それを逆に使えない？」

こういう“素朴な疑問”を**深掘りしていくと、自然と数論的な問題・未解決問題にぶつかる**んです。

---

## 🎯 まとめ：このテーマは「知的好奇心の延長線」にある

| 出どころ    | 内容              |
| ------- | --------------- |
| 数オリ・入試  | 観察・不等式・発想力が問われる |
| 数論書・講義  | 階乗の性質を理論的に深掘り   |
| 数学フォーラム | 世界中の数学好きが議論中    |
| 研究の場    | 一部は未解決の深淵な問題も   |

---

## 👣 次にやると面白いことは？

* 自分で「階乗を使った不定方程式」を作ってみる
* Brocard 問題の mod による打ち止めを追ってみる
* Erdős や Ramanujan の階乗にまつわるエピソードを調べてみる
* オリンピックの整数問題にチャレンジ！

---

気になるもの、もっと深く見たいテーマがあれば、ぜひ教えてください！
次に向かう道、一緒に考えますよ。


---
---

