# 級数を並び替えると、収束値が変わる例
級数の並び替えによって収束値が変わる例を作るのは簡単です。そして、並び替えても収束値が変わらない場合についても、よく知られた定理があります。

---

### **1. 収束値が変わる例**
代表的な例は **交代調和級数**：
\[
\sum_{n=1}^{\infty} (-1)^{n+1} \frac{1}{n} = 1 - \frac{1}{2} + \frac{1}{3} - \frac{1}{4} + \frac{1}{5} - \cdots
\]
この級数は収束します（レーベスグの交代級数定理より）。

しかし、項を適当に並び替えると、異なる値に収束させることができます。たとえば、正の項をたくさん取ってから負の項を取るようにすると、好きな値に収束させることが可能です。

もっと一般的には、「**絶対収束しないが条件収束する級数は、並べ替えると収束値が変わる**」という **リーマンの級数定理** があります。

---

### **2. 並び替えても大丈夫なとき**
級数が**絶対収束する**場合は、並び替えても収束値が変わりません。  
つまり、\(\sum a_n\) が**絶対収束**（すなわち、\(\sum |a_n|\) が収束）するならば、どんな順番で足しても同じ値に収束します。  
この結果もリーマンの級数定理の一部です。

---

### **まとめ**
- **絶対収束しない条件収束級数** → 並び替えで収束値が変わることがある。
- **絶対収束する級数** → 並び替えても収束値は変わらない。

具体的に並び替えて収束値を変える方法が知りたければ、**リーマンの級数定理の証明**を見てみると面白いよ！

---
---

# リーマン級数定理
### **リーマンの級数定理（Riemann's rearrangement theorem）**

リーマン級数定理とは、「**条件収束する級数は、並び替えによって任意の値に収束させることができ、あるいは発散させることもできる**」という驚くべき結果です。

---

### **定理の主張**
条件収束する実数級数
\[
S = \sum a_n
\]
に対して、任意の実数 \( c \) に対して、適当な並び替え \( (b_n) \) をとることで
\[
\sum b_n = c
\]
とすることができる。  
さらに、適当な並び替えによって \(\pm \infty\) に発散させることもできる。

ただし、「**絶対収束する級数（\(\sum |a_n|\) が収束する場合）**」はこのようなことは起こらず、並び替えても収束値は変わらない。

---

### **意味と重要性**
1. **絶対収束する級数**  
   - どんな順番で足しても、必ず同じ値に収束する。
   - 例えば、\(\sum \frac{1}{2^n}\) のような収束級数は並び替えても変わらない。

2. **条件収束する級数**  
   - 並び替えると収束値が変わることがある。
   - 代表的な例が **交代調和級数**：
     \[
     \sum (-1)^{n+1} \frac{1}{n} = 1 - \frac{1}{2} + \frac{1}{3} - \frac{1}{4} + \frac{1}{5} - \dots
     \]
   - 適当に並び替えれば、好きな値に収束させたり、発散させることもできる。

---

### **証明の概要**
条件収束するということは、  
1. \( \sum a_n \) が収束する（通常の意味で極限が存在する）。  
2. しかし、\( \sum |a_n| \) は発散する（絶対収束しない）。

ここで、正の項と負の項をそれぞれ分けて考える：
\[
P = \sum_{a_n > 0} a_n, \quad N = \sum_{a_n < 0} a_n
\]
これらはどちらも発散するが、元の級数が収束するので、
\[
P + N = \text{有限値}
\]
が成り立つ。

しかし、適当な並び替えによって
- 正の項を多く足すことで、好きな値 \( c \) に収束させる。
- あるいは、正の項を多く取りすぎて発散させることもできる。

詳細な証明では、目標とする値 \( c \) に向かって正の項と負の項を交互に調整しながら級数を構成していくテクニックを使う。

---

### **具体例**
交代調和級数
\[
\sum (-1)^{n+1} \frac{1}{n}
\]
は条件収束するので、例えば「正の項を2つ、負の項を1つ」というパターンに並び替えると、収束値を大きくすることができる。

実際に並び替えの具体例を考えて計算してみると、異なる値に収束することがわかる。

---

### **まとめ**
- **条件収束する級数は、並び替えによって任意の値に収束させたり、発散させることが可能！**
- **絶対収束する級数は、並び替えても収束値は変わらない。**
- **リーマン級数定理は、収束級数の性質を考える上で非常に重要な結果！**

---
## 途中欠けていたので、詳細を
確かに、証明の式が曖昧でしたね。リーマン級数定理の**厳密な証明**を、きちんとした数式とともに説明します。  

---

## **リーマンの級数定理の厳密な証明**

### **定理の主張**
**条件収束する級数**  
\[
S = \sum a_n
\]
に対して、任意の実数 \( c \) に対し、適当な並び替え \( (b_n) \) をとることで  
\[
\sum b_n = c
\]
とすることができる。また、適当な並び替えにより級数を \(\pm\infty\) に発散させることもできる。

---

## **証明**
### **ステップ1：正の項と負の項に分解**
級数 \( \sum a_n \) は **条件収束** すると仮定する。つまり、  
1. **通常の意味で収束**：\( \sum a_n \) は有限値に収束する。  
2. **絶対収束しない**：\( \sum |a_n| \) は発散する。

したがって、級数を**正の項と負の項に分ける**：
\[
P = \sum_{a_n > 0} a_n, \quad N = \sum_{a_n < 0} a_n.
\]
ここで、  
- \( P \)（正の項の和）と \( N \)（負の項の和）は**どちらも発散**する。
- しかし、元の級数 \( P + N \) は有限値に収束する。

これは、直感的には「正の項と負の項がうまく打ち消し合っている」ということを意味する。

---

### **ステップ2：並び替えによる制御**
目標の値 \( c \) に級数を収束させるため、並び替えた項の部分和を調整する。  

1. **まず、正の項だけを足していく。**
   - 部分和が目標値 \( c \) を超えないように、正の項 \( a_{n_i} \) を順番に足していく。
   - \( S_k^+ \) を正の項だけを加えた部分和とする：
     \[
     S_k^+ = \sum_{i=1}^{k} a_{n_i}, \quad \text{ただし } a_{n_i} > 0.
     \]
   - これは発散するが、目標値 \( c \) にできるだけ近づくように選ぶ。

2. **次に、負の項を加える。**
   - \( S_k^+ \) が \( c \) を超えたら、今度は負の項 \( a_{m_j} \) を足して、\( c \) に戻す：
     \[
     S_k^- = S_k^+ + \sum_{j=1}^{l} a_{m_j}, \quad \text{ただし } a_{m_j} < 0.
     \]
   - 負の項も発散するので、適切に選べば \( S_k^- \) は \( c \) にできるだけ近づく。

3. **これを繰り返す。**
   - 正の項と負の項を交互に加えることで、部分和が \( c \) に近づくように調整できる。

---

### **ステップ3：極限をとる**
この構成により、級数の並び替えた部分和は任意の精度で \( c \) に収束する。  
つまり、
\[
\sum b_n = c.
\]
が成り立つ。

---

### **発散させる場合**
もし級数を \(\pm\infty\) に発散させたい場合、  
- 正の項をできるだけ長く足し続けると \( +\infty \) に発散。  
- 負の項をできるだけ長く足し続けると \( -\infty \) に発散。  
- 収束しないように交互に足し続けると振動発散（極限なし）になる。

---

## **結論**
- **条件収束する級数は、並び替えると任意の値に収束させることができる！**
- **並び替えによって \(\pm\infty\) に発散させることも可能！**
- **絶対収束する級数なら並び替えても収束値は変わらない（これは別の定理）。**

この証明の本質は、「正の項と負の項を交互に調整することで、級数の収束値をコントロールできる」という点にある。

---
---

# 精密な証明
ありがとう！では、さらに**厳密な証明**を示そう。特に、部分和の構成を明示し、極限操作を厳密に議論することで、論理的な穴がない証明を目指す。  

---

## **リーマンの級数定理（厳密な証明）**
### **定理の主張**
条件収束する実数級数
\[
S = \sum a_n
\]
に対し、任意の実数 \( c \) に対して適当な並び替え \( (b_n) \) を構成することで
\[
\sum b_n = c
\]
とすることができる。さらに、適当な並び替えによって \( +\infty \) または \( -\infty \) に発散させることもできる。

---

## **証明**
### **ステップ1：正の項と負の項に分解**
級数 \( \sum a_n \) は**条件収束**すると仮定する。つまり、  
1. \( \sum a_n \) は収束する（通常の意味で極限が存在）。  
2. しかし、\( \sum |a_n| \) は発散する（絶対収束しない）。

ここで、級数を**正の項と負の項に分ける**：
\[
P = \sum_{a_n > 0} a_n, \quad N = \sum_{a_n < 0} a_n.
\]
このとき、
- **\( P \)（正の項の和）と \( N \)（負の項の和）はどちらも発散する**。
- しかし、元の級数 \( P + N \) は収束するので
  \[
  P + N = L < \infty
  \]
  という関係が成り立つ。

これは直感的には「正の項と負の項がうまく打ち消し合っている」ことを意味する。

---

### **ステップ2：並び替えによる制御**
目標の値 \( c \) に収束させるため、並び替えた級数の部分和 \( S_k \) を次のように定める。

#### **① 部分和の構成**
1. **正の項を加える**
   - 正の項 \( p_1, p_2, p_3, \dots \) を**順番に足していく**：
     \[
     S_k^+ = \sum_{i=1}^{k} p_i.
     \]
   - これは発散するので、ある \( k_1 \) が存在して、
     \[
     S_{k_1}^+ > c.
     \]

2. **負の項を加える**
   - 負の項 \( n_1, n_2, n_3, \dots \) を適当に選びながら足していく：
     \[
     S_{k_1, l}^- = S_{k_1}^+ + \sum_{j=1}^{l} n_j.
     \]
   - これは発散するので、ある \( l_1 \) が存在して、
     \[
     S_{k_1, l_1}^- < c.
     \]

3. **繰り返す**
   - さらに正の項を加えて \( c \) を超えたら、次に負の項を加えて \( c \) を下回る。
   - これを繰り返して、\( S_k \) が \( c \) に収束するように調整する。

---

### **ステップ3：収束の証明**
作った部分和列 \( S_k \) が目標値 \( c \) に収束することを示す。

#### **① 単調性の確認**
構成した部分和列は  
- **\( S_k \) は上に \( c \) に向かって単調増加する**（正の項を追加）。
- **\( S_k \) は下に \( c \) に向かって単調減少する**（負の項を追加）。

つまり、\( S_k \) の極限は \( c \) に収束することが期待される。

#### **② 収束の証明**
任意の \( \varepsilon > 0 \) に対して、ある \( N \) が存在して
\[
|S_k - c| < \varepsilon \quad (k \geq N)
\]
が成り立つことを示す。

- **正の項と負の項は発散するので、どんな小さい値でも調整可能**。
- **「超える・下回る」を繰り返すことで、必ず収束する**。

したがって、極限
\[
\lim_{k \to \infty} S_k = c
\]
が成り立つ。

---

### **ステップ4：発散させる方法**
- **正の項をずっと取り続けると、部分和は \( +\infty \) に発散する**。
- **負の項をずっと取り続けると、部分和は \( -\infty \) に発散する**。
- **正の項と負の項を適当に並び替えると、振動発散（極限なし）も可能**。

---

## **結論**
- **条件収束する級数は、並び替えによって任意の値 \( c \) に収束させることが可能！**
- **並び替えによって \( +\infty \) または \( -\infty \) に発散させることもできる！**
- **絶対収束する級数なら並び替えても収束値は変わらない（これは別の定理）！**

**Q.E.D.**

---

## **まとめ**
この証明のポイントは：
- **正の項と負の項をうまく交互に足しながら、目標の値 \( c \) に収束するよう調整する**。
- **極限を厳密に考え、収束の証明を完備する**。
- **適当な並び替えで発散させることも可能であることを示す**。

これで完全な証明になった！

---
---
