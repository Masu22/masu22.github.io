# スキームの射が正則とは？
スキームの射 \( f: X \to Y \) が**正則 (regular)** とは、一般に以下の条件を満たすことを指します。  

1. **平坦 (flat)** である（つまり、構造層の引き戻し \( f^*\mathcal{O}_Y \to \mathcal{O}_X \) が平坦）。
2. **幾何的に正則なファイバー (geometrically regular fibers)** を持つ（すなわち、任意の幾何点 \( y \to Y \) に対し、ファイバー \( X_y \) が正則スキームである）。

### **補足**
- **平坦性 (flatness)** は、大雑把に言えば「ファイバーの局所的な次元が安定している」ことを保証します。
- **幾何的正則性 (geometric regularity)** は、スキームの点で局所環が正則局所環であることを意味します。

特に、\( Y \) が体のスペクトル（例えば、代数幾何的な場面で考えるスキームの基本ケース）である場合、\( f: X \to \operatorname{Spec} k \) が正則であるとは、\( X \) 自身が正則スキームであることと同値になります。

この概念は、スムーズ (smooth) や非特異 (non-singular) と関係が深く、特にスムーズ射は常に正則ですが、逆は一般には成り立ちません。

---
---

# 幾何学的ファイバーとは？
**幾何学的ファイバー (geometric fiber)** とは、スキームの射 \( f: X \to Y \) に対し、\( Y \) のある点 \( y \) の上にとるファイバー \( X_y \) を、基礎体の代数的閉包を用いて「幾何的に拡張」したものです。  

具体的には、次のように構成されます：

1. \( y \) の剰余体を \( k(y) \) とする。
2. \( k(y) \) の代数的閉包を \( \overline{k(y)} \) とする（これが「幾何学的な」拡張）。
3. \( X_y = X \times_Y \operatorname{Spec} k(y) \) を通常のファイバーとする。
4. 幾何学的ファイバーとは、**基礎体を代数的閉包に拡張したスキーム**
   \[
   X_{\overline{y}} = X \times_Y \operatorname{Spec} \overline{k(y)}
   \]
   のこと。

---

### **どこが「幾何」なのか？**
- 通常のファイバー \( X_y \) では、基礎体 \( k(y) \) が必ずしも代数的閉体ではないため、代数的構造が不完全なことがある。
- 代数的閉包 \( \overline{k(y)} \) を取ることで、幾何的な性質（例えば、ファイバーの点の分類や滑らかさの議論）がしやすくなる。
- 幾何的ファイバー上では、例えば点がすべて分離する（代数的閉包上では分岐がなくなるなど）ので、幾何的な視点で議論するのに適している。

---

### **例**
#### **例1: スキームのファイバー**
例えば、射
\[
f: \mathbb{A}^1_{\mathbb{Q}} = \operatorname{Spec} \mathbb{Q}[t] \to \operatorname{Spec} \mathbb{Q}
\]
を考える。このとき、点 \( p \in \operatorname{Spec} \mathbb{Q} \) の上のファイバーは
\[
X_p = \operatorname{Spec} \mathbb{Q}[t] \otimes_{\mathbb{Q}} k(p) = \operatorname{Spec} k(p)[t]
\]
になる。ここで \( k(p) \) が代数的閉体でないと、ファイバー上の点の振る舞いが「完全に幾何的に」理解できないことがある。

そこで、代数的閉包 \( \overline{\mathbb{Q}} \) を考え、幾何学的ファイバーを
\[
X_{\overline{p}} = \operatorname{Spec} \overline{\mathbb{Q}}[t]
\]
とすると、スキームの点の構造が代数的に「完全に見える」ようになる。

#### **例2: 二次拡大とファイバー**
例えば、射
\[
\operatorname{Spec} \mathbb{Q}(\sqrt{2}) \to \operatorname{Spec} \mathbb{Q}
\]
を考える。このファイバーは通常
\[
\operatorname{Spec} \mathbb{Q}(\sqrt{2}) \otimes_{\mathbb{Q}} k(p)
\]
になるが、\( \mathbb{Q}(\sqrt{2}) \) 上では「まだ分岐が見えない」かもしれない。  
しかし、\( \overline{\mathbb{Q}} \) 上ではすべての代数的情報が見え、例えばファイバーが単純なコピーになったり、分岐の有無が分かりやすくなる。

---

**まとめ**
- **幾何学的ファイバー**とは、通常のファイバーを**代数的閉包**を用いて拡張したもの。
- これにより、**代数的に完全な情報が見える**ようになる。
- 代数的閉包を取ることで、「点が分離する」「特異点の性質がはっきりする」など、**幾何的な現象がより直感的に扱える**ようになる。

---
---

# 古典的な定義とは？
「有理関数として局所的に表示できる」という定義は、古典的な代数多様体の文脈での正則写像の定義です。ここでの正則写像とは、各点の近傍で座標を取ったときに、その写像が多項式（またはその商＝有理関数）によって記述でき、しかも定義されない点（極）が現れないものを指します。つまり、写像が局所的に「滑らかに」振る舞い、分母にゼロが現れて写像が定まらなくなるようなことがない、という意味です。

一方、スキーム論において「射が正則 (regular)」と呼ばれる場合は、通常、次のような条件を課みます：

1. **平坦性 (flatness)：** 射 \( f: X \to Y \) が平坦である（局所的に環の準同型が平坦）。
2. **幾何学的に正則なファイバー (geometrically regular fibers)：** \( Y \) の任意の点 \( y \) に対して、幾何学的ファイバー
   \[
   X_{\overline{y}} = X \times_Y \operatorname{Spec} \overline{k(y)}
   \]
   が正則（局所環が正則局所環）である。

このスキーム的な定義は、対象となる空間が単に代数多様体（例えば、代数閉体上のもの）に限らない場合でも、写像が「滑らかで特異点がなく」良い性質を持つことを保証するために使われます。実は、古典的な定義とスキーム論での定義は、対象が古典的な代数多様体であればほぼ同等の性質を表していると言えます。

まとめると：

- **古典的な定義：** 各点の近傍で写像が有理関数（実際には分母が消えて正則な多項式表現）で表せる。
- **スキーム論の定義：** 射が平坦で、かつ各ファイバーが幾何学的に正則である。

どちらも「写像が滑らかで、局所的に良い（特異点がなく）構造を持つ」という性質を捉えていますが、定義のアプローチが異なるため、文脈に応じて使い分けられます。

---
---

# 古典的な定義のスキームへの拡張
古典的な「正則写像」の定義（有理関数として局所的に表示できる、かつ極がない）をスキームの射に対して拡張できるか？ という問いですが、結論から言うと**一般のスキームにそのまま拡張するのは難しい**です。ただし、スキームが「よく振る舞う」場合には、ある程度類似した概念を導入できます。  

---

### **古典的な正則写像の定義（代数多様体）**
古典的な代数多様体 \( X, Y \) 上の写像 \( f: X \to Y \) が**正則 (regular)** であるとは、局所的に座標をとったときに、\( f \) が**有理関数として記述できて、かつ極を持たない**ことを意味します。すなわち：
- \( f \) は局所的に有理関数で表される（商環の形）。
- ただし、分母が消えて \( f \) が定義されない点がない。

これは、直感的には「連続で微分可能な関数」と類似しています。

---

### **スキームにおける拡張の問題点**
スキームの枠組みでこの定義を拡張しようとすると、いくつかの問題が発生します。

1. **スキームの局所環は整域とは限らない**  
   - 代数多様体では、局所環は（非特異点において）整域であり、有理関数を考えやすい。
   - しかし、スキームの局所環は一般に整域でなく、有理関数（分数体）を考えるのが難しい場合がある。

2. **有理関数をどのように定義するか？**  
   - スキームの局所環が整域ならば、分数体を考えられるが、一般には「局所的な有理関数」をどう定義するかが問題になる。
   - 例えば、アフィンスキーム \( X = \operatorname{Spec} A \) では、\( A \) の分数環を考えられるが、局所環 \( \mathcal{O}_{X, p} \) では一般に異なる振る舞いをする。

3. **極がないことの定式化が難しい**  
   - 多様体では「極がない」とは、関数の分母がゼロにならないことを意味するが、スキームではこの概念を一般化するのが難しい。

---

### **スキームにおける「正則射」に関連する概念**
完全に古典的な「有理関数としての正則性」をスキームで言い直すのは難しいですが、類似した概念として以下がよく使われます。

#### **1. 分数型射 (morphism of fraction type)**
- アフィンスキーム \( X = \operatorname{Spec} A \) から \( Y = \operatorname{Spec} B \) への射 \( f \) に対し、\( A \) から \( B \) の**分数環**への準同型が誘導されるなら、「有理関数的な」写像に近い。

#### **2. 正則射 (regular morphism)**
- **平坦 + 幾何学的に正則なファイバー** という条件で定義される（冒頭で述べたスキーム論での「正則射」の定義）。
- これは「局所環が正則であること」を保証し、代数多様体における「特異点がない滑らかな写像」に近い。

#### **3. 局所的に有限表示 (locally of finite presentation)**
- 多様体では写像が局所的に多項式で表されるが、スキームでは「局所的に有限表示」という条件がそれに近い。
- つまり、環準同型 \( B \to A \) が有限生成な形をしていると、局所的に「多項式的な形」が期待できる。

---

### **結論**
「有理関数として局所的に表示できる」という古典的な定義を、スキームにそのまま適用するのは難しいが、次のような概念が類似の役割を果たす：
1. **平坦 + 幾何学的に正則なファイバー → 正則射 (regular morphism)**
2. **局所的に有限表示 (locally of finite presentation)**
3. **分数型射 (morphism of fraction type)** で「有理関数的」な情報を考える。

特に、スキームの一般的な枠組みでは **「正則 = 平坦 + 幾何学的に正則なファイバー」** という定義が最も適切であり、古典的な定義の代わりに使われることが多い。

---
---

# 代数多様体の射が正則となること
**代数多様体の射が正則 (regular morphism)** であることを**集合論的に**定義できるか？という問いですが、これは可能です。ただし、代数多様体の定義に依存するため、以下のいくつかの視点で整理します。  

---

### **1. 代数多様体の射の集合論的定義**
代数多様体 \( X \) と \( Y \) を代数的閉体 \( k \) 上のものとする。このとき、**集合としての射 \( f: X \to Y \) が正則である**とは、次の条件を満たすことを指します：

#### **定義（集合論的な表現）**
写像 \( f: X \to Y \) が正則とは、**各点 \( x \in X \) に対し、局所座標をとることで、座標関数が多項式関数で記述できること**を意味する。  

具体的には：
1. **局所的な座標系の存在**：  
   任意の点 \( x \in X \) に対して、\( X \) と \( Y \) の開集合 \( U \subset X \), \( V \subset Y \) が存在し、\( x \in U \), \( f(U) \subset V \) かつ \( V \) がアフィン開集合 \( V = \operatorname{Spec} B \) であるようにできる。
  
2. **環準同型の対応**（関数の振る舞い）：  
   \( U \) がアフィン開集合 \( U = \operatorname{Spec} A \) の場合、\( f \) によって環準同型
   \[
   f^\# : B \to A
   \]
   が誘導され、各座標関数が \( A \) の元として**多項式的に表現**できる。

これを集合論的に言い換えると：
- 各点 \( x \in X \) に対して、座標 \( (x_1, \dots, x_n) \) を適切に選べば、各成分 \( f_i(x_1, \dots, x_n) \) が多項式で与えられる。
- **集合としての写像 \( f \) が、局所的に多項式関数として記述できることが「正則性」** を意味する。

---

### **2. 具体例：アフィン空間の写像**
例えば、\( k \) 上のアフィン空間の開集合 \( X \subset \mathbb{A}^n \) から \( Y \subset \mathbb{A}^m \) への写像
\[
f: X \to Y
\]
が正則であるとは、座標表示 \( f(x) = (f_1(x), \dots, f_m(x)) \) において、各成分 \( f_i: X \to k \) が**多項式関数**であることと同値。

---

### **3. 代数多様体の一般的な場合**
一般の代数多様体 \( X, Y \) に対しても、次のように定義可能：

- \( X \) と \( Y \) を**局所的にアフィン多様体**とみなし、アフィン開被覆 \( \{ U_i \} \) をとる。
- 各 \( f|_{U_i}: U_i \to Y \) が、アフィン座標を用いて多項式関数で表せるならば、\( f \) は**正則写像**。

つまり、**局所的に「写像の成分がすべて多項式関数」であることを要求すれば、正則性が集合論的に表現できる**。

---

### **4. なぜ「有理関数」の集合的定義とは異なるのか？**
有理関数とは、多様体上の点 \( x \) の近傍で定義される「商」の形の関数だが、**正則関数はその中で特に分母が消えて極を持たないもの**に対応する。  
- **集合としての記述の違い：**  
  - **有理関数**：局所的に商 \( f = g/h \) の形。ただし \( h \neq 0 \)。
  - **正則関数**：局所的に「ただの」多項式関数。

したがって、「正則性」は、写像の成分が**多項式で書けること**として集合論的に捉えられる。

---

### **結論**
代数多様体 \( X \) から \( Y \) への写像が**正則**であることを、集合論的に定義するなら：
> **任意の点 \( x \in X \) の適切な近傍において、写像の各座標成分が多項式で表現できること。**

これは、アフィン座標系での環準同型 \( f^\# : B \to A \) という代数的な定義と一致し、代数幾何における「正則性」の要件を満たす。

---
---

# 座標関数が多項式表示できることの説明をもう少し丁寧に！
代数多様体の射 \( f: X \to Y \) が **正則 (regular)** であることを「座標関数が多項式で表せる」という観点から丁寧に説明します。

---

## **1. 目標**
**正則写像とは何か？**  
- 代数的閉体 \( k \) 上の代数多様体 \( X \) から \( Y \) への写像 \( f: X \to Y \) に対し、「正則」とはどういうことか？
- **結論**：座標関数が**多項式で表される**とはどういうことか、しっかり説明する。

---

## **2. アフィン多様体の場合**
まず、代数的閉体 \( k \) 上のアフィン空間 \( \mathbb{A}^n \) に埋め込まれたアフィン多様体を考えます。

### **(1) アフィン多様体の定義**
代数的閉体 \( k \) 上の **アフィン多様体** \( X \subset \mathbb{A}^n(k) \) は、いくつかの多項式
\[
f_1(x_1, \dots, x_n) = 0, \quad f_2(x_1, \dots, x_n) = 0, \quad \dots, \quad f_r(x_1, \dots, x_n) = 0
\]
の共通零点集合として定義されるものです。

このとき、**アフィン多様体の関数環 \( k[X] \)** は、\( k[x_1, \dots, x_n] \) をこれらの多項式によるイデアルで割ったもの：
\[
k[X] = k[x_1, \dots, x_n] / (f_1, \dots, f_r).
\]
ここで、\( k[X] \) の元は \( X \) 上の正則関数（多項式関数）に対応します。

### **(2) アフィン多様体の射**
別のアフィン多様体 \( Y \subset \mathbb{A}^m \) を考え、写像
\[
f: X \to Y
\]
を考えます。  
\( Y \) は、座標 \( (y_1, \dots, y_m) \) を持ち、ある多項式条件で定義されるとします。

#### **\( f \) が正則とは？**
この写像 \( f \) は、**各座標 \( y_i \) に対して、\( X \) の座標を用いた多項式で書けるとき、正則である** と定義されます。つまり、
\[
f(x_1, \dots, x_n) = (f_1(x_1, \dots, x_n), \dots, f_m(x_1, \dots, x_n))
\]
であり、各 \( f_i \) が \( k[X] \) の元、すなわち **\( x_1, \dots, x_n \) の多項式である** 必要があります。

#### **具体例**
例えば、次の写像
\[
f: \mathbb{A}^2 \to \mathbb{A}^3, \quad (x_1, x_2) \mapsto (x_1^2 + x_2, x_1x_2, x_2^3)
\]
は、各成分が \( x_1, x_2 \) の多項式で書かれているため、**正則** です。

一方、もし
\[
f(x_1, x_2) = (x_1/x_2, x_1^2, x_2^3)
\]
のように分数（有理関数）が現れると、\( f \) は正則でない可能性があります（\( x_2 = 0 \) で定義できないなど）。

---

## **3. 一般の代数多様体の場合**
一般の代数多様体 \( X, Y \) を考えます。アフィン多様体の例を一般化すると、以下のように言えます：

1. **局所アフィン座標をとる**  
   - \( X \) と \( Y \) を**アフィン開集合** \( U \subset X \), \( V \subset Y \) の合併として覆う。
   - 各アフィン開集合上で、環 \( k[U] \), \( k[V] \) が考えられる（これらはアフィン多様体の関数環）。

2. **環準同型が対応する**  
   - 射 \( f: X \to Y \) が与えられたとき、アフィン開集合 \( U \) に制限した写像 \( f|_U \) は、環の準同型
     \[
     f^\#: k[V] \to k[U]
     \]
     を誘導する（これは「座標関数が多項式で書ける」ことと同じ意味）。

3. **局所的に多項式であることが正則性の定義**
   - 各アフィン開集合 \( U \) において、\( f \) の座標関数が \( k[U] \) の元（すなわち多項式）として書けるなら、**\( f \) は正則である**。

---

## **4. まとめ**
代数多様体の写像 \( f: X \to Y \) が **正則 (regular)** であるとは：

- **局所的に、各座標成分が多項式関数で書けること。**
- つまり、各点 \( x \in X \) のある開近傍 \( U \) に対し、\( f(U) \subset V \) となるようなアフィン開集合 \( V \) をとると、
  \[
  f(x) = (f_1(x), f_2(x), \dots, f_m(x))
  \]
  の各成分 \( f_i \) が、その座標の多項式として表される。

この定義は、アフィン多様体の場合には「関数環の準同型」によって定式化され、一般の代数多様体の場合には「局所アフィン座標での多項式表現」で言い換えられます。

---
---

# アフィン代数多様体の射で、正則でないものは？？スキームを使って定めてほしい！
アフィン代数多様体の間の射で**正則でないもの**の具体例を、**スキームの言葉**を使って構成してみます。  

---

## **1. 目標**
アフィン代数多様体 \( X, Y \) の間の射 \( f: X \to Y \) で、正則でないものを見つける。  
つまり、ある点の近傍で座標関数が**多項式では表せない**ような射をスキームの枠組みで記述する。

---

## **2. 例：アフィン直線の射で正則でないもの**
代数的閉体 \( k \) 上の **アフィン直線 \( \mathbb{A}^1_k \) のスキーム構造** を考えます：
\[
X = \operatorname{Spec} k[x], \quad Y = \operatorname{Spec} k[y].
\]

写像 \( f: X \to Y \) を、スキームの射として定めるためには、対応する環準同型
\[
f^\#: k[y] \to k[x]
\]
を与える必要があります。

**(1) 正則な例**  
例えば、\( f^\#(y) = x^2 + 1 \) なら、これは \( k[x] \) の元（多項式）なので、**正則写像**を定めます。

**(2) 正則でない例（有理関数による射）**  
次のように定義すると、\( f \) は**正則ではない**：
\[
f^\#(y) = \frac{1}{x}.
\]
この写像は、対応する座標関数が分数になっており、\( k[x] \) の元ではありません。  
したがって、この \( f \) は **スキームの射ではあるが、正則ではない** ことが分かります。

---

## **3. 一般の説明**
スキーム \( X \) から \( Y \) への射が**正則でない**とは、環準同型 \( f^\# : k[Y] \to k[X] \) が、環 \( k[X] \) に**多項式として表されない元**を持っている場合です。  

- **正則写像**は、対応する環準同型が「多項式だけを使って」記述できるときに限られる。
- **正則でない写像**は、環準同型に「有理関数や分数などの非多項式の関数」が含まれる場合に起こる。

---

## **4. より高度なスキームの例**
**(1) 局所環を使った記述**  
スキーム \( X \) の点 \( p \) において、局所環 \( \mathcal{O}_{X, p} \) を考えると、  
写像 \( f: X \to Y \) が正則であるためには、**局所環の準同型**
\[
f_p^\#: \mathcal{O}_{Y, f(p)} \to \mathcal{O}_{X, p}
\]
があり、それが「有理関数を含まない」（すなわち、\( \mathcal{O}_{X, p} \) にしっかり延長できる）必要があります。

例えば、上の例で
\[
f^\#(y) = \frac{1}{x}
\]
を考えると、原点 \( x = 0 \) では局所環 \( \mathcal{O}_{X,0} \) に延長できません。  
したがって、これは **スキームの射ではあるが、正則ではない** ことが分かります。

---

## **5. まとめ**
**アフィン代数多様体の間の射で正則でない例は、環準同型 \( f^\#: k[Y] \to k[X] \) に多項式でない元が現れる場合に対応する。**  
スキーム論を使うことで、単なる座標関数の議論ではなく、**環準同型と局所環の言葉で正則性の崩壊を説明できる**。

---
---

# その正則でない写像は、1/xは値域のk[x]に入らないのでは？？
確かに、**\( f^\#(y) = \frac{1}{x} \) は \( k[x] \) の元ではない**ため、このような射 \( f: \mathbb{A}^1_k \to \mathbb{A}^1_k \) をスキームの射として定義することはできません。  

スキームの射 \( f: X \to Y \) を定めるには、対応する環準同型  
\[
f^\#: k[Y] \to k[X]
\]
が **定義域 \( k[Y] \) の元を終域 \( k[X] \) の元に送る準同型** でなければならないため、そもそもこの \( f^\#(y) = \frac{1}{x} \) はスキームの射を与えません。

---

## **1. スキームの射で正則でないものを見つける方針**
スキームの射 \( f: X \to Y \) は、環準同型 \( f^\#: \mathcal{O}_Y(V) \to \mathcal{O}_X(U) \) を誘導します。  
「正則でない」という性質を持つには、  
- **スキームの射としては定義されるが、正則性が失われる例**  
を考える必要があります。

### **候補となる状況**
1. **スキームの開部分スキームでのみ定義される射**
2. **局所的に定義できるが、スキームとしての大域的な射が定義できない場合**
3. **環準同型が局所環 \( \mathcal{O}_{X, p} \) の中では定義されるが、大域的な関数環では表せない場合**

---

## **2. スキームの射で正則でないものの具体例**
### **(1) 有理関数を使った射**
スキーム \( X = \mathbb{A}^1_k \) を考え、その上の関数として  
\[
f: X \dashrightarrow Y, \quad f(x) = \frac{1}{x}
\]
を考えます。（ダッシュ記号 \( \dashrightarrow \) は、有理写像であることを意味します）

- これは、スキームの射 **ではなく、有理写像** になっています。
- \( x = 0 \) で特異性があるため、**スキームの射としての延長ができない** ＝ **正則でない**。

### **(2) リーマン球面の除外点を考える**
代数曲線 \( X \) の除外点 \( P \) を持つスキーム \( X' = X \setminus \{P\} \) を考えます。  
例えば、\( \mathbb{P}^1_k \) 上の有理関数
\[
f: \mathbb{P}^1_k \dashrightarrow \mathbb{P}^1_k, \quad f(t) = \frac{1}{t}
\]
は、\( t = 0 \) で定義されません。  
したがって、これをスキームの射として延長すると、**点 \( t = 0 \) で正則でなくなる**ことが分かります。

---

## **3. まとめ**
**「正則でない写像」とは、スキームの射を定義できるが、局所環 \( \mathcal{O}_{X, p} \) で延長できないもの。**  
具体例としては：
1. **有理写像 \( f(x) = 1/x \) は \( x = 0 \) で定義できないため、スキームの射として延長できない。**
2. **射 \( f: X' \to Y \) のように、ある点で局所的に正則でない（多項式で表せない）ものを考える。**
3. **射が大域的には定義されるが、局所環で延長できない状況を作ると、「正則でない」スキームの射が構成できる。**

このように、スキームの言葉を使うと、単に「関数が分数だからダメ」という話ではなく、「スキームとしての射は定義されるが、正則性が失われる」ような状況を厳密に記述できます。

---
---

# 環準同型がk代数の射だったときは、自動的に正則射に！
確かに、**環準同型が \( k \)-代数の射である場合、スキームの射として自動的に正則になる** という点は本質的です。  

しかし、逆に **正則でないスキームの射** はどのような形を取るのか？  
そのような例を特定し、どのようにして「正則性が失われる」のかを考えてみましょう。

---

## **1. \( k \)-代数の射であれば、正則射になる理由**
スキームの射 \( f: X \to Y \) に対して、環準同型
\[
f^\#: \mathcal{O}_Y(V) \to \mathcal{O}_X(f^{-1}(V))
\]
が定義されます。このとき：

- **\( k \)-代数の射 \( f^\#: k[Y] \to k[X] \) であるなら、\( k[X] \) に多項式環の像が入るので、対応する関数は多項式で表せる。**
- **したがって、スキームの射として正則になる。**

たとえば、アフィン代数多様体 \( X = \operatorname{Spec} k[x] \), \( Y = \operatorname{Spec} k[y] \) に対して、
\[
f^\#(y) = x^2 + 1
\]
のような準同型は \( k[x] \) に値を持ち、正則性を満たします。

---

## **2. 正則でないスキームの射の特徴**
正則でないスキームの射は、**局所環の準同型 \( \mathcal{O}_{Y, f(p)} \to \mathcal{O}_{X, p} \) が拡張できない場合に発生します。**  
つまり、
- 環準同型 \( f^\#: k[Y] \to k[X] \) がそもそも \( k \)-代数の射でない。
- \( k[Y] \) の元が \( k[X] \) の中で「有理関数」になってしまい、多項式で表せない。
- スキームの射 \( f: X \to Y \) がある点 \( p \) で局所環 \( \mathcal{O}_{X, p} \) に延長できない。

---

## **3. 具体的な例**
### **(1) 有理関数を持つ射**
スキーム \( X = \operatorname{Spec} k[x] \), \( Y = \operatorname{Spec} k[y] \) で、環準同型を  
\[
f^\#(y) = \frac{1}{x}
\]
と定義しようとすると、これは \( k[x] \) の中に入らないため、そもそもスキームの射として成立しない。

では、これを修正してスキームの射として成立するが、正則でない例を作るには？

### **(2) \( \mathbb{P}^1 \) 上の有理関数を考える**
射
\[
f: \mathbb{P}^1 \dashrightarrow \mathbb{P}^1, \quad f(t) = \frac{1}{t}
\]
は、\( t = 0 \) で特異性を持ちます。

- **スキームの射としては、開集合 \( U = \mathbb{P}^1 \setminus \{0\} \) で定義できる。**
- しかし、**\( t = 0 \) に延長できないため、正則ではない。**
- これは「局所環 \( \mathcal{O}_{X, p} \) への延長ができない」ことを意味する。

### **(3) 環の局所化を考えた場合**
例えば、
\[
X = \operatorname{Spec} k[x]
\]
の部分開スキーム \( U = X \setminus \{0\} \) では、関数 \( 1/x \) が定義可能になる。

このとき、射 \( f: U \to Y \) に対して、環準同型
\[
f^\#(y) = \frac{1}{x}
\]
を考えると、これは \( k[x, x^{-1}] \) には入るが、\( k[x] \) には入らない。

- この \( f \) は「有理関数としては定義されるが、スキームの射として全空間では正則でない」例となる。

---

## **4. まとめ**
**正則でないスキームの射とは、局所環 \( \mathcal{O}_{X, p} \) に延長できないスキームの射。**  
具体的には：
- **\( k \)-代数準同型なら、必ず正則になる。**
- **有理関数を使った射は、スキームとして定義できないか、正則性を失う。**
- **局所環を考えたときに、定義できない点が生じると、正則でないスキームの射ができる。**

このように、スキームの言葉を使うことで、「単に関数が多項式か否か」というレベルから、「環の構造がどのように影響を及ぼすか」まで考えられるようになります。

---
---

# 改めて、スキームの射が正則射となる定義を教えて！集合論的にしっかり、丁寧に‼️
スキームの射 \( f: X \to Y \) が **正則 (regular)** であるとは、局所的に「代数的な関数」が「多項式」または「正則関数」として表せることを意味します。  
これをスキームの言葉を使って、集合論的に明確に定義していきます。

---

## **1. スキームの射の基本構造**
スキームの射 \( f: X \to Y \) は、次の2つのデータから成ります：
1. **連続写像** \( f: |X| \to |Y| \)（スキームの位相空間の間の連続写像）
2. **構造層の準同型**  
   \[
   f^\#: \mathcal{O}_Y \to f_* \mathcal{O}_X
   \]
   これは、\( Y \) の任意の開集合 \( V \subset Y \) に対し、環準同型
   \[
   f^\#_V: \mathcal{O}_Y(V) \to \mathcal{O}_X(f^{-1}(V))
   \]
   を誘導します。

このデータが与えられることで、スキームの射が定義されます。

---

## **2. スキームの射が正則であるとは？**
スキームの射 \( f: X \to Y \) が **正則である (regular morphism)** とは、すべての点 \( p \in X \) に対して、以下が成り立つことを意味します：

1. **局所環の準同型**  
   各点 \( p \in X \) に対して、局所環の準同型
   \[
   f_p^\#: \mathcal{O}_{Y, f(p)} \to \mathcal{O}_{X, p}
   \]
   が存在する。

2. **\( f_p^\# \) が局所環の射であり、値が多項式で表される**  
   任意の \( g \in \mathcal{O}_{Y, f(p)} \) に対し、\( f_p^\#(g) \) は **局所的に** 多項式関数として表せる。  
   つまり、適切な開集合 \( U \ni p \) で、ある座標系を取れば \( f^\#(g) \) は「多項式関数」として書ける。

---

## **3. アフィンスキーム上での具体的な定義**
アフィン・スキーム \( X = \operatorname{Spec} A \), \( Y = \operatorname{Spec} B \) に対して、射 \( f: X \to Y \) は **環準同型**
\[
\varphi: B \to A
\]
によって記述されます。このとき、次の条件が成り立つとき、**\( f \) は正則射である** といえます：

- **\( \varphi \) が \( k \)-代数の準同型であり、像が \( A \) の中の多項式で表せる。**
- すなわち、**任意の \( b \in B \) に対し、\( \varphi(b) \) が \( A \) の元として「有理関数」ではなく「多項式」として表せる」。**

例えば：
- \( X = \operatorname{Spec} k[x] \), \( Y = \operatorname{Spec} k[y] \) として、準同型
  \[
  \varphi: k[y] \to k[x], \quad y \mapsto x^2 + 1
  \]
  を考えると、\( x^2 + 1 \) は多項式なので **\( f \) は正則**。
- しかし、もし
  \[
  \varphi: k[y] \to k[x, x^{-1}], \quad y \mapsto \frac{1}{x}
  \]
  だった場合、\( \varphi(y) \) は \( k[x] \) の元ではなく、**この写像はスキームの射として延長できず、正則ではない**。

---

## **4. まとめ**
### **スキームの射が正則 (regular morphism) であるとは？**
1. **位相空間としての連続写像 \( f: |X| \to |Y| \) がある。**
2. **局所環の準同型 \( f_p^\#: \mathcal{O}_{Y, f(p)} \to \mathcal{O}_{X, p} \) が定義される。**
3. **各局所環の元が、適切な座標系のもとで「多項式関数」として表せる。**
4. **特にアフィン・スキームの場合、対応する環準同型 \( B \to A \) が多項式で表せる。**

**つまり、「スキームの射の環準同型が、多項式の範囲内で収まる」ことが「正則射」の本質。**

この定義は、代数多様体における「正則関数は局所的に多項式である」という古典的な定義と完全に対応します！

---
---

# スキームの射があるとき、局所環の準同型は、どう与えられる？位相的に本当に局所になる？？
スキームの射において、**局所環の準同型がどのように与えられるか**、そして**その準同型が本当に「局所的」かどうか**を確認するために、スキームの基本的な構造をしっかり理解することが大切です。

## 1. スキームの射と局所環の準同型
スキームの射 \( f: X \to Y \) に関して、**局所環の準同型**は次のように与えられます。

### (1) スキームの射の定義
スキームの射 \( f: X \to Y \) は、次のデータから成り立っています：
- \( f \) は**連続写像**で、スキーム \( X \) の位相空間 \( |X| \) が \( Y \) の位相空間 \( |Y| \) に向かって写像される。
- さらに、**構造層**の間の準同型が与えられます。この準同型は、各開集合に対して環準同型を与えます：
  \[
  f^\#: \mathcal{O}_Y(V) \to \mathcal{O}_X(f^{-1}(V))
  \]
  ここで、\( V \) は \( Y \) の任意の開集合です。

### (2) 局所環の準同型
スキーム \( X \) と \( Y \) がそれぞれ \( \operatorname{Spec} A \) と \( \operatorname{Spec} B \) のようなアフィン・スキームの場合、射 \( f: X \to Y \) は環準同型 \( \varphi: B \to A \) として表されます。このとき、任意の点 \( p \in X \) に対応する局所環の準同型が次のように与えられます：

- \( X = \operatorname{Spec} A \), \( Y = \operatorname{Spec} B \) の場合、スキームの射 \( f: X \to Y \) は環準同型 \( \varphi: B \to A \) として与えられます。
- この環準同型は、任意の点 \( p \in X \) における局所環に対して、次のように**局所環の準同型**を誘導します：
  \[
  f_p^\#: \mathcal{O}_{Y, f(p)} \to \mathcal{O}_{X, p}
  \]
  ここで、\( \mathcal{O}_{Y, f(p)} \) と \( \mathcal{O}_{X, p} \) はそれぞれ \( Y \) と \( X \) の点 \( f(p) \) および \( p \) に対応する局所環です。

これが、**スキームの射における局所環の準同型の構造**です。

## 2. 局所環の準同型が本当に「局所的」か？
ここで重要なのは、「**局所環の準同型が本当に局所的であるか**」という点です。

### (1) 局所環の準同型とは？
スキームの射における局所環の準同型は、各点に対応する局所環を繋げる準同型です。具体的には、次のように解釈できます：
- **局所環 \( \mathcal{O}_{X, p} \)** は、スキーム \( X \) の点 \( p \) の近傍に対応する環であり、この局所環はその点を中心とする関数の集合です。
- **局所環の準同型 \( f_p^\#: \mathcal{O}_{Y, f(p)} \to \mathcal{O}_{X, p} \)** は、スキームの射 \( f \) が、点 \( p \) から点 \( f(p) \) にどのように関数を移すかを定めます。

この準同型が「局所的」というのは、次の2つの理由に基づきます：
1. **環準同型が局所的に定義される**：
   - \( f \) がスキームの射として局所的に作用することを意味します。つまり、点 \( p \) の近傍で定義された関数が、射 \( f \) によってどのように変換されるかが局所的に決まるのです。具体的には、スキーム上の点を取り、その点の近傍で見ると、射 \( f \) はその近傍における関数を適切に変換します。

2. **局所環の準同型が各点で定義され、これが連続的に繋がる**：
   - スキームの射は、各点の局所環の準同型が連続的に繋がることによって、全体として射が定義されるため、射 \( f \) は局所的に関数を変換することになります。

### (2) 位相的に「本当に局所」か？
スキームの射は、位相的に**各点の近傍での局所環の構造を保存する**という性質を持っています。これは、環準同型が点ごとに局所環の準同型として定義され、スキームの射として連続的に作用することを意味します。

- **位相空間的に見て、スキームの射はその点の近傍で定義される**ため、局所環の準同型も「局所的な性質」を持っていると言えます。スキームは連続写像であり、各点の近傍での挙動を反映する形で射が定義されるため、射の局所性は位相的に見ても自然なことです。

---

## 3. まとめ
- **スキームの射** \( f: X \to Y \) の局所環の準同型は、各点に対応する局所環の間の準同型であり、環準同型 \( f^\#: \mathcal{O}_Y(V) \to \mathcal{O}_X(f^{-1}(V)) \) が定義されます。
- **「局所的」な意味**は、これらの準同型が各点で定義され、スキームの位相空間において連続的に作用することを指します。
- 局所環の準同型が**本当に局所的**であることは、スキームの射がその点の近傍で定義され、射の構造がそれぞれの点の周りで決まるという意味で自然です。

---
---

# 層の押し出しと引き戻し、それらのストークを調べたい！
「層の押し出し（pushforward）と引き戻し（pullback）」はスキーム論や層論における非常に重要な概念です。これらは、スキームの射における層の構造をどのように変換するかを示しています。また、これらに関連する **ストークの理論**（Stokes theorem）も、特に層の変換に関する局所的な構造に関心を持つ際に重要です。

以下、まずは押し出しと引き戻しの概念を説明し、さらにストークスの理論について触れていきます。

---

## 1. **層の引き戻しと押し出し**

### (1) **層の引き戻し（Pullback）**
層の引き戻しは、スキーム \( X \) からスキーム \( Y \) への射 \( f: X \to Y \) に関して、\( Y \) 上の層を \( X \) 上に引き戻す操作です。引き戻しは、与えられた層を \( Y \) 上から \( X \) 上に「引き戻す」形で、層の構造を保存します。

- **定義**: \( f: X \to Y \) をスキームの射、\( \mathcal{F} \) を \( Y \) 上の層とすると、引き戻し層 \( f^*\mathcal{F} \) は、次のように定義されます：
  \[
  (f^*\mathcal{F})(U) = \mathcal{F}(f(U)) \quad \text{(任意の開集合 \( U \subset X \) に対して)}
  \]
  つまり、\( f^*\mathcal{F} \) は、\( Y \) 上の層 \( \mathcal{F} \) の値を、射 \( f \) の引き戻しにより \( X \) 上の層として再構成したものです。

### (2) **層の押し出し（Pushforward）**
層の押し出しは、逆の操作で、スキーム \( X \) からスキーム \( Y \) への射 \( f: X \to Y \) に関して、\( X \) 上の層を \( Y \) 上に「押し出す」操作です。これにより、スキーム \( X \) の層が、スキーム \( Y \) 上でどのように表現されるかを変換します。

- **定義**: \( f: X \to Y \) をスキームの射、\( \mathcal{F} \) を \( X \) 上の層とすると、押し出し層 \( f_* \mathcal{F} \) は次のように定義されます：
  \[
  (f_* \mathcal{F})(V) = \mathcal{F}(f^{-1}(V)) \quad \text{(任意の開集合 \( V \subset Y \) に対して)}
  \]
  これは、\( Y \) 上の開集合 \( V \) に対して、\( f^{-1}(V) \) の上で \( X \) 上の層 \( \mathcal{F} \) の値を取ることで、\( Y \) 上に対応する層を構成します。

---

## 2. **ストークスの定理**

ストークスの定理は、通常の微分幾何学では、ある空間における積分を、境界上での積分に変換する結果として知られています。しかし、スキーム論や層論におけるストークスの理論は、主に以下のような**層の変換における局所的な性質**に関連します。

ストークスの定理を層の文脈に持ち込むには、特定の条件下で、層の押し出しや引き戻しがどのように局所的な性質に影響を与えるかを理解する必要があります。これには、次のような概念が含まれます。

### (1) **ストークス定理の「代数的」バージョン**
代数的なストークスの定理とは、あるスキーム上の層が押し出しまたは引き戻し操作を経た後に、局所的な条件に基づいて、**局所的な積分や局所環の性質**が変わらないことを示す結果です。これは、スキームの層の構造を変換した後でも、積分可能な関数やホモロジーの変換において重要な役割を果たします。

例えば、アフィンスキーム上での層の引き戻しや押し出しが、どのように**局所的な構造（例えば、ホモロジーやコホモロジー）**に影響を与えるかを考えることができます。

---

## 3. **ストークスの理論の応用と解釈**

### (1) **引き戻しと押し出しにおけるストークスの結果**
引き戻しと押し出しの操作は、スキーム論においても重要な役割を果たし、**層の変換がどのようにホモロジーやコホモロジーの構造に影響を与えるか**に関わります。

- **引き戻し**は、基本的に層の「逆の操作」であり、ホモロジーにおいても、引き戻しによって、元々の層の構造がどのように反映されるかに関して計算が可能になります。
- **押し出し**は、層をスキーム上で「拡張」する操作です。これによって、元々の層の特性が、より広い領域やスキーム全体にわたってどう影響を与えるかが示されます。

### (2) **具体的なストークスの定理の例**
例えば、あるスキーム \( X \) 上の層 \( \mathcal{F} \) に関して、引き戻し \( f^*\mathcal{F} \) を取り、その後押し出し \( f_*f^*\mathcal{F} \) を取ったときに、元々の層の構造が保持される場合、これは**ストークス的な現象**とみなせます。

このように、層の引き戻しや押し出しがどのようにホモロジーやコホモロジーに影響を与えるかを理解することは、スキーム論や層論におけるストークスの理論の応用です。

---

## 4. **まとめ**
- **層の引き戻し（Pullback）**と**押し出し（Pushforward）**は、スキームの射に関連する重要な操作であり、スキームの層の構造を変換する方法です。
- **ストークスの定理**は、層の引き戻しや押し出しによるホモロジーやコホモロジーの変換における**局所的な影響**に関わります。
- 層の引き戻しは、関数の構造を引き戻す操作であり、層の押し出しは、関数の構造を拡張する操作として、**代数的なストークスの定理**に応用されます。

このように、引き戻しや押し出しの操作を理解することで、層の構造がどのようにスキームの間で変換されるか、またその影響がどのように**局所的**に変化するかを把握できます。

---
---

# 押し出しと引き戻しのストーク(茎)
ああ、なるほど！ストーク（茎）についてですね。引き戻しや押し出しをする際の「ストーク」というのは、スキーム論における**局所的な性質**に関連する概念です。これに関して詳しく説明します。

### ストーク（茎）とは？

スキームや層の文脈での「ストーク（茎）」は、ある層の局所的な部分を記述するための概念です。特に、「ストーク」は、スキームのある点での層の性質を記述する際に重要です。

具体的には、次のように定義されます。

- スキーム \( X \) の点 \( x \) における層 \( \mathcal{F} \) の**ストーク（茎）**とは、\( x \) における層の局所的な振る舞いを反映したものです。
- 層のストーク（茎）は、層が与えられた開集合での値を取るときに、特にその点での「局所的な振る舞い」に注目して構成されます。

### 1. **引き戻しとストーク**

引き戻し操作を行うと、元々の層の構造を新たなスキーム上に「引き戻す」ことになります。もし、引き戻した層のストーク（茎）を調べる場合、次のように振る舞います。

#### 引き戻しとストーク（茎）の関連
- スキーム \( X \) 上の層 \( \mathcal{F} \) が、スキーム \( Y \) 上の層 \( \mathcal{G} \) へ引き戻されるとき、\( f: X \to Y \) の射を使って引き戻し \( f^*\mathcal{G} \) を定義します。
- ストーク（茎）についても、引き戻し後の層の点 \( x \in X \) における振る舞いを調べることができます。
  
  具体的に、\( f^*\mathcal{G} \) のストークは、\( X \) 上の点 \( x \) での層の振る舞いが、\( Y \) 上の点 \( f(x) \) における層のストークにどのように対応するかを示します。

  \[
  \text{ストーク（茎）}: (f^*\mathcal{G})_x = \mathcal{G}_{f(x)}
  \]
  
  つまり、引き戻しによって、層のストーク（茎）は、元の層のストークをそのまま引き戻したものとして構成されます。

### 2. **押し出しとストーク**

押し出し操作では、層をスキームからスキームへ「押し出す」ことで、層がどう変化するかを見ます。この操作では、押し出し後の層が元の層の局所的な性質にどのように影響を与えるかを調べます。

#### 押し出しとストーク（茎）の関連
- 押し出し操作では、元のスキームの点での層の振る舞いが、対象のスキーム上でどのように変換されるかを見ます。
- 層の押し出しにおいても、ストーク（茎）の振る舞いを調べることができます。たとえば、押し出し操作を行った後、元の層のストークと押し出された層のストークを比較します。

  具体的には、押し出し操作 \( f_* \mathcal{F} \) における点 \( y \in Y \) のストークは、次のように定義されます：
  
  \[
  \text{ストーク（茎）}: (f_* \mathcal{F})_y = \mathcal{F}_{f^{-1}(y)}
  \]
  
  これは、押し出し後の層のストークが、元の層のストークに対応することを示しています。

### 3. **ストーク（茎）を調べる意義**

- **局所的な構造の解析**: 層のストーク（茎）は、その層がスキームの各点でどのように振る舞うかを記述します。引き戻しや押し出しの操作が層のストークに与える影響を調べることは、スキームの局所的な性質や層の構造を理解するために非常に重要です。
- **ホモロジーやコホモロジーの計算**: 層のストークは、ホモロジーやコホモロジーの計算において重要な役割を果たします。特に、スキーム上の点での層のストーク（茎）を使って、スキームの全体的なホモロジーやコホモロジーを計算することができます。

---

### まとめ

- **引き戻しとストーク**: 引き戻し操作は、元の層のストーク（茎）をそのまま引き戻して構成します。
- **押し出しとストーク**: 押し出し操作では、層のストークが元の層のストークとどのように対応するかを調べます。
- **ストーク（茎）の重要性**: ストーク（茎）は、スキーム上での層の局所的な振る舞いを理解するために重要な概念です。

---
---

# それらの証明を知りたい
ストーク（茎）に関連する証明を行う場合、引き戻しや押し出しの操作がどのように層の局所的な構造に影響を与えるかを明確にする必要があります。ここでは、**引き戻し**と**押し出し**操作のストークに関する証明を、定義に基づいて具体的に示します。

### 1. **引き戻しに関するストークの証明**

引き戻しを行うと、層の振る舞いは元のスキームから引き戻されたスキームの対応する点でそのまま再構成されます。引き戻しの操作を行うときのストーク（茎）の対応について証明してみましょう。

#### 定理：引き戻しにおけるストークの対応

スキーム \( X \) と \( Y \) があり、射 \( f: X \to Y \) があるとき、層 \( \mathcal{G} \) に対する引き戻し \( f^*\mathcal{G} \) のストーク（茎）は、元の層 \( \mathcal{G} \) のストーク（茎）に対応する。

すなわち、点 \( x \in X \) において、

\[
(f^*\mathcal{G})_x \cong \mathcal{G}_{f(x)}
\]

#### 証明：

1. **引き戻し層の定義**：
   引き戻し層 \( f^*\mathcal{G} \) の元は、\( X \) 上の開集合 \( U \subset X \) に対して、\( f(U) \subset Y \) 上で定義された層 \( \mathcal{G} \) の元に対応します。

2. **ストークの定義**：
   層のストーク（茎）は、その層が指定された点での局所的な振る舞いを記述します。つまり、点 \( x \in X \) における \( f^*\mathcal{G} \) のストークは、点 \( x \) の近傍での引き戻し後の構造を示します。

3. **局所環での対応**：
   層 \( f^*\mathcal{G} \) の点 \( x \) におけるストークは、元々の層 \( \mathcal{G} \) の点 \( f(x) \) におけるストークと一致することを示します。つまり、\( f^*\mathcal{G} \) のストークは、\( \mathcal{G} \) の元を \( f(x) \) の近傍に引き戻したものに対応します。

したがって、\( (f^*\mathcal{G})_x \cong \mathcal{G}_{f(x)} \) という関係が成立します。

### 2. **押し出しに関するストークの証明**

押し出し操作は、層をスキーム \( X \) 上からスキーム \( Y \) 上に移すもので、その点での層の局所的な構造がどのように変わるかを示します。

#### 定理：押し出しにおけるストークの対応

スキーム \( X \) と \( Y \) があり、射 \( f: X \to Y \) があるとき、層 \( \mathcal{F} \) に対する押し出し \( f_*\mathcal{F} \) のストーク（茎）は、元の層 \( \mathcal{F} \) のストーク（茎）に対応する。

すなわち、点 \( y \in Y \) において、

\[
(f_*\mathcal{F})_y \cong \mathcal{F}_{f^{-1}(y)}
\]

#### 証明：

1. **押し出し層の定義**：
   押し出し層 \( f_*\mathcal{F} \) は、スキーム \( X \) 上の層 \( \mathcal{F} \) の元を、\( Y \) 上の対応する開集合 \( V \) に引き出す操作です。押し出し層の元は、\( Y \) 上の開集合 \( V \subset Y \) に対して、\( X \) 上の \( f^{-1}(V) \) に対応する \( \mathcal{F} \) の元です。

2. **ストークの定義**：
   層 \( f_*\mathcal{F} \) の点 \( y \in Y \) におけるストークは、その点 \( y \) の近傍での局所的な性質を記述します。点 \( y \) のストークは、元々の層 \( \mathcal{F} \) が対応する点 \( f^{-1}(y) \) における局所環を反映したものになります。

3. **局所環での対応**：
   具体的には、押し出し層の点 \( y \) におけるストークは、元々の層 \( \mathcal{F} \) の点 \( f^{-1}(y) \) におけるストークと一致します。すなわち、\( (f_*\mathcal{F})_y \) は、\( \mathcal{F} \) のストークである \( \mathcal{F}_{f^{-1}(y)} \) に対応します。

したがって、\( (f_*\mathcal{F})_y \cong \mathcal{F}_{f^{-1}(y)} \) という関係が成立します。

---

### 結論

- **引き戻し操作**では、引き戻した層のストーク（茎）は、元の層のストーク（茎）と一致します。具体的には、点 \( x \in X \) での引き戻し層 \( f^*\mathcal{G} \) のストークは、点 \( f(x) \in Y \) での元の層 \( \mathcal{G} \) のストークに対応します。
  
- **押し出し操作**では、押し出した層のストーク（茎）は、元の層のストーク（茎）を反映したものになります。具体的には、点 \( y \in Y \) での押し出し層 \( f_*\mathcal{F} \) のストークは、点 \( f^{-1}(y) \in X \) での元の層 \( \mathcal{F} \) のストークに対応します。

このように、引き戻しや押し出しの操作が層のストーク（茎）に与える影響を詳細に理解することができます。

---
---
